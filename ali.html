<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ali's Journey</title>

    <script src='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css' rel='stylesheet' />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link href="css/default.css" rel="stylesheet" type="text/css">
</head>

<body>

    <div id="intro">
        <div id="introImage">
            <h1 class="title">Knowledge is Power: Ali's Journey to Create Change</h1>
            <p class="subtitle">
                This scrolling story from CERC Migration traces the journey of a migrant named Ali as he travels from Burkina Faso to Nigeria across borders, space, and time.</br> </br> <img id="originalImage" src="./images/down.png" alt="">
            </p>
            <img id="originalImage" src="./video/ouagadougou.gif" alt="">
        </div>
    </div>

    <div class="spacer">
        <i>"I was working in Burkina Faso when a team from All-Africa, a media company, came for a 2004 Francophonie meeting in Ouagadougou, where all the Francophone countries met. In 2005, I was asked to come to Nigeria by All-Africa, but I was doing my master’s degree then so I had to wait and finish before I traveled. They were looking for someone to come and run the program for them."</i>
    </div>

    <section id="intro__text">
        <p class="intro__dek">
        <div>
            <img class="bg" src="./images/ali.jpg" alt="">
        </div>
        </p>
    </section>

    <main>
        <section id="scrollSection">
            <div class="mapDiv">
                <div id='map'></div>
            </div>

            <article>
                <div class="step" data-center="1.5197, 12.3714" data-zoom="11" data-pitch="45" data-bearing="0" data-speed="0.7">
                    <!-- data-toggle_layer="route" -->
                </div>

                <div class="step invisible">
                </div>

                <div class="step" data-center="1.5197, 12.3714" data-zoom="11" data-pitch="45" data-bearing="0" data-speed="0.7">
                    <h1 class="sectionHeading">Opportunity Came Knocking</h1>
                    <p>
                        Ali is from the town of <strong class="strongMilestone">Kantchari</strong>, in Burkina Faso. He was working and completing a master's degree in Law at the University of Ouagadougou in 2004, when he was approached by a media company named All-Africa, which was seeking to open a branch in the city of Lagos, Nigeria. Ali finished his degree before heading to Lagos to accept the job. He had never been to Nigeria before, and was very curious to see what it was like, but he was also hesitant because of the uncertainty of not knowing what to expect. He moved from <strong class="strongMilestone">Ouagadougou</strong> to <strong class="strongMilestone">Lagos</strong> in 2005, traveling by road with all the requisite documents he would need.
                    </p>
                </div>

                <div class="step" data-center="-1.401228, 9.001200" data-zoom="6" data-pitch="45" data-bearing="0" data-speed="0.7">
                    <h1 class="sectionHeading">Traveling Across Many Borders</h1>
                    <p>
                        There are many <strong class="strongBorder">borders</strong> between Burkina Faso and Nigeria. Ali drove through Ivory Coast, Ghana, Togo and Benin to get to his destination. At times, he took a longer <strong class="strongRoute">route</strong> through Ivory Coast; other times, he went through Togo or Benin. Because of the numerous borders, he developed a wealth of experience about freedom of movement in the region.
                        <img class="stepImage" src="./images/travel.jpg" alt="">
                    </p>
                </div>

                <div class="step" data-center="1.628767, 6.240729" data-zoom="11" data-pitch="45" data-bearing="0" data-speed="0.7">
                    <h1 class="sectionHeading">Threatened at the Border in Benin</h1>
                    <p>
                        Trained to be a lawyer, Ali is cognizant of ECOWAS freedom of movement rights. As a result, he often challenges immigration officers at the borders whenever he encounters extortion or harassment. His outspokenness has gotten him into standoffs with officers a few times.
                        <img class="stepImage" src="./images/threat.jpg" alt="">
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to hear Ali talking about the intimidation he faced at the Beninois border on the way to Lagos.</br></br>
                        <audio controls>
                            <source src="./audio/ali_border.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                </div>

                <div class="step">
                    <h1 class="sectionHeading">Knowing the Rules</h1>
                    <p>
                        Ali's knowledge has helped him navigate through barriers and difficulties at the borders in the region. This has not only saved him money and time, but also saved other people who were stuck at those borders as well. Ali often tries to advocate for people who are being exploited by officers.
                        <img class="stepImage" src="./images/rules.jpg" alt="">
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to hear Ali talking about the impact of knowledge on his travel experience.</br></br>

                        <audio controls>
                            <source src="./audio/ali_knowledge.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                </div>

                <div class="step">
                    <p>
                        <!-- <img class="stepImageAvatar" src="./images/ali_illustrated.png" alt=""> -->
                        <i>
                            "Because I am a trained lawyer and journalist, I know the rules, and I know that when you are an ECOWAS citizen, there is nothing like a payment to 'stamp your passport' for you to cross - provided you have all your documentation and medical stuff. You are free to move, but they are not doing that at the borders."
                        </i>
                    </p>
                </div>

                <div class="step" data-center="3.3711, 6.5095" data-zoom="13" data-pitch="45" data-bearing="0" data-speed="0.7">
                    <h1 class="sectionHeading">Working in Yaba</h1>
                    <p>
                        Once in Nigeria, Ali worked in <strong class="strongMilestone">Yaba</strong>, a popular suburb on the Lagos Mainland, which is known to have many educational institutions. While working in media, he also tapped into the need for French education in the city. He taught journalism to students in the French department at the University of Lagos (UNILAG). He also established a French language news program. His job in media takes him all over the continent, and he has had stints in Kenya, Tunisia, Senegal, Ethiopia, Cameroon, and elsewhere.

                        <img class="stepImage" src="./images/yaba.jpg" alt="">
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to hear Ali talking about registering his business in Lagos.</br></br>

                        <audio controls>
                            <source src="./audio/ali_business.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                </div>

                <div class="step">
                    <p>
                        <i>
                            "In 2009, I set up my own business in media communication, which is mainly bilingual communication. I do translations. I do media reports. And I do fixing. Fixing is helping media people who are coming for a report in Nigeria to get in touch with relevant stakeholders, people to interview, and to conduct media reports."
                        </i>
                    </p>
                </div>

                <div class="step">
                    <p>
                        Ali works with a diverse clientele, including Nigerian media, a Moroccan TV station in Abuja, Voice of America, France 24 and TV5, as well as Swiss and German media in the region.
                    </p>
                </div>

                <div class="step" data-center="3.412419, 6.456322" data-zoom="13" data-pitch="45" data-bearing="0" data-speed="0.7">
                    <h1 class="sectionHeading">Settling in the City</h1>
                    <p>
                        As time passed, Ali tried to adapt to life in Lagos. He lived in <strong class="strongMilestone">Dolphin Estate</strong>, one of the first gated communities in Lagos Island. He was supposed to leave Nigeria and join the All-Africa office in Dakar, Senegal, but he did not like the idea of moving from Lagos because the project he was doing at UNILAG was very fascinating. Without him, the project would have stopped. The French Embassy and the university asked him to stay, and he negotiated the terms and remained in Lagos.

                        <img class="stepImage" src="./images/city.jpg" alt="">
                    </p>
                </div>

                <div class="step">
                    <h1 class="sectionHeading">Freedom of Movement</h1>
                    <p>
                        Because of the demands of work, Ali travels a lot by road and crosses many regional borders in the process. He has made it a habit to address the issues he finds at the borders whenever he travels.

                        <img class="stepImage" src="./images/freedom.jpg" alt="">
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to hear Ali describe another confrontation with an immigration officer at the border.</br></br>

                        <audio controls>
                            <source src="./audio/ali_confrontation.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to hear Ali describe the reality at the border.</br></br>

                        <audio controls>
                            <source src="./audio/ali_reality.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                </div>


                <div class="step">
                    <h1 class="sectionHeading">Region-Wide Struggles at the Border</h1>
                    <p>
                        In Ali's experience, difficulties at the border are region-wide, and even occur at the Burkina Faso border.
                        <img class="stepImage" src="./images/struggles.jpg" alt="">
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to listen to Ali describe other experiences crossing borders in different locations.</br></br>

                        <audio controls>
                            <source src="./audio/ali_experiences1.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>

                        </br></br>

                        <audio controls>
                            <source src="./audio/ali_experiences2.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                </div>

                <div class="step" data-center="3.5852, 6.4698" data-zoom="13" data-pitch="45" data-bearing="0" data-speed="0.7">
                    <h1 class="sectionHeading">Education and Community in Lagos</h1>
                    <p>
                        After many years of living and working in Lagos, Ali felt at home. In 2015, he went back to school and received a Master’s Degree in Business from the Lagos Business School in <strong class="strongMilestone">Lekki</strong>, Lagos Island. He is an active member in the Burkinabe community in Lagos. In 2018, he was elected to be the Secretary General of the Association of Burkinabe Residents in Nigeria, and he was also the consular delegate in Lagos to the Conseil supérieur des Burkinabè de l’étranger.
                        <img class="stepImage" src="./video/lagos.gif" alt="">
                    </p>
                </div>

                <div class="step">
                    <h1 class="sectionHeading">The Burkinabe Community </h1>
                    <p>
                        As the Secretary General of the Association of Burkinabe Residents in Nigeria, Ali encourages and informs people in the community about how to abide by the immigration rules, how to register their businesses, and a host of related things. In Nigeria, people generally don't ask for documentation or where people come from - they assume Burkinabe people are from Northern Nigeria.
                        <img class="stepImage" src="./images/burkinabe.jpg" alt="">
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to hear Ali describe the Burkinabe community in Nigeria.</br></br>

                        <audio controls>
                            <source src="./audio/ali_burkinabe1.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>

                        </br></br>

                        <audio controls>
                            <source src="./audio/ali_burkinabe2.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                </div>

                <div class="step">
                    <p>
                        <i>
                            "People ask if I am from Sokoto and I say no. I say I am from Burkina Faso, and they are surprised. To me, it is a very open society. People are welcoming."
                        </i>
                    </p>
                </div>

                <div class="step">
                    <h1 class="sectionHeading">Thriving in Another West African City</h1>
                    <p>
                        Ali came to Lagos with the initial aim of spending only two years and then going back to Ouagadougou. However, he became inspired and found ways to better his professional experience in Lagos. This is part of the reason why he chose to attend Lagos Business School and complete an MBA.
                        <img class="stepImage" src="./images/thriving2.jpg" alt="">
                    </p>

                    <p style="background-color: rgba(104, 71, 141, 0.9);">Press the play button to hear Ali talk about the importance of the ECOWAS regional market and what it means for regional trade and migration.</br></br>
                        <audio controls>
                            <source src="./audio/ali_ecowas.ogg" type="audio/ogg">
                            Your browser does not support the audio element.
                        </audio>
                    </p>
                </div>

                <div class="step invisible">
                </div>

                <div class="step invisible">
                </div>

                <div class="step invisible">
                </div>

            </article>
        </section>

        <section id="outro__text">
            <h1 class="outro__hed">Plans for the Future</h1>
            <p class="outro__dek">
                Ali plans on maximizing the knowledge he has gained from his time as a journalist and fixer in Nigeria by using it for the betterment of Burkina Faso and the broader region. Freedom of movement in the region has been one factor that has been crucial to his career success in media and business.
            </p>

            <p style="text-align: center;">Press the play button to hear Ali talking about his future plans</p>
            <p style="text-align: center;">
                <audio controls>
                    <source src="./audio/ali_future.ogg" type="audio/ogg">
                    Your browser does not support the audio element.
                </audio>
            </p>
        </section>

        <section id="outro__text">
            <p class="outro__dek">
                This story is part of the <a href="index.html">Migration Milestones</a> research project, led by postdoctoral research fellow Oreva Olakpe, through the <a href="index.html">CERC in Migration and Integration</a> at Toronto Metropolitan University. The research was generously supported by the Canada Excellence Research Chairs (CERC) program.</br></br>
                <img src="https://immigrationpolicytracker.ca/wp-content/uploads/TMU-logo-80px.jpg" alt="">
                <img src="https://immigrationpolicytracker.ca/wp-content/uploads/CERC_FIP_COL-e.png" alt="">
                </br></br>
                Click <a href="index.html">here</a> to return to the project home.
        </section>

        <div>
            <img id="outroImage" src="./video/plans.gif" alt="">
        </div>
    </main>

    <!--
    Mapbox Javascript Setup
  -->
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiZ2JieSIsImEiOiJjbDRnMnhpcWowOTZ0M2ltYmVidmFlYzUyIn0.YMvE-Zv6jfxhACw69xOvLQ';
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/gbby/cl4g7cfhv001n14qxgenegeqn',
            center: [0.47773, 7.15319],
            zoom: 7,
            projection: 'globe'
        });

        map.on('style.load', () => {
            map.setFog({});
            map.scrollZoom.disable();
            map.dragPan.enable()
            map.dragRotate.disable()
        });

        map.on('load', () => {
            map.addSource('milestones', {
                'type': 'geojson',
                'data': './data/ali_milestones.geojson'
            });

            map.addSource('route', {
                'type': 'geojson',
                'data': './data/ali_route.geojson'
            });

            map.addSource('borders', {
                'type': 'geojson',
                'data': './data/ali_borders.geojson'
            });

            // Route
            map.addLayer({
                'id': 'route',
                'type': 'line',
                'source': 'route',
                'layout': {
                    'line-join': 'round',
                    'line-cap': 'round'
                },
                'minzoom': 4,
                'maxzoom': 15,
                'paint': {
                    'line-color': '#1da462',
                    'line-width': 5,
                    'line-opacity': 0.7
                }
            });

            // Milestones Markers
            map.addLayer({
                    'id': 'milestones-overview',
                    'type': 'circle',
                    'source': 'milestones',
                    'minzoom': 4,
                    'maxzoom': 8,
                    'paint': {
                        'circle-radius': 12,
                        'circle-color': '#FC6944',
                        'circle-opacity': 0.7
                    }
                }

            );

            map.addLayer({
                    'id': 'milestones-cities',
                    'type': 'circle',
                    'source': 'milestones',
                    'minzoom': 8,
                    'maxzoom': 15,
                    'paint': {
                        'circle-radius': 10,
                        'circle-color': '#FC6944',
                        'circle-opacity': 0.9
                    }
                }

            );

            // Borders
            map.addLayer({
                    'id': 'borders-overview',
                    'type': 'circle',
                    'source': 'borders',
                    'minzoom': 4,
                    'maxzoom': 8,
                    'paint': {
                        'circle-radius': 12,
                        'circle-color': '#dba11c',
                        'circle-opacity': 0.7
                    }
                }

            );

            map.addLayer({
                    'id': 'borders',
                    'type': 'circle',
                    'source': 'borders',
                    'minzoom': 8,
                    'maxzoom': 15,
                    'paint': {
                        'circle-radius': 10,
                        'circle-color': '#dba11c',
                        'circle-opacity': 0.9
                    }
                }

            );

        });
    </script>

    <!--
    Scrollama Javascript Setup
  -->
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script>
        var main = document.querySelector("main");
        var scrollSection = main.querySelector("#scrollSection");
        var article = scrollSection.querySelector("article");
        var steps = article.querySelectorAll(".step");

        var scroller = scrollama();

        /* function handleStepEnter(response) {
         *     let el = response.element;
         *     let setCenter = el.dataset.center;
         *     let setZoom = el.dataset.zoom;
         *     let setPitch = el.dataset.pitch;
         *     let setBearing = el.dataset.bearing;

         *     steps.forEach(step => step.classList.remove('is-active'));
         *     el.classList.add('is-active');

         *     map.flyTo({
         *         center: setCenter.split(", "),
         *         zoom: setZoom,
         *         pitch: setPitch,
         *         bearing: setBearing,
         *         easing(t) {
         *             return t;
         *         }
         *     })
         * } */

        function handleStepEnter(response) {
            let el = response.element;
            let setCenter = el.dataset.center;
            let setZoom = el.dataset.zoom;
            let setPitch = el.dataset.pitch;
            let setBearing = el.dataset.bearing;
            console.log("test")

            let layerToggle = el.dataset.toggle_layer;

            steps.forEach(step => step.classList.remove('is-active'));
            el.classList.add('is-active');

            map.flyTo({
                center: setCenter.split(", "),
                zoom: setZoom,
                pitch: setPitch,
                bearing: setBearing,
                easing(t) {
                    return t;
                }
            })

            if (layerToggle) {

                let currentLayerVisibility = map.getLayoutProperty(layerToggle, 'visibility')
                console.log(currentLayerVisibility)

                if (!currentLayerVisibility) {
                    map.setLayoutProperty(layerToggle, 'visibility', 'none');
                } else {
                    map.setLayoutProperty(layerToggle, 'visibility', 'visible');
                }
            }

        }

        function init() {

            scroller
                .setup({
                    step: "#scrollSection article .step",
                    offset: 0.9,
                    debug: false
                })
                .onStepEnter(handleStepEnter);

            window.addEventListener("resize", scroller.resize);
        }

        init();
    </script>

</body>

</html>
